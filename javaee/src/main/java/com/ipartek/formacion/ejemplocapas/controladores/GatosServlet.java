package com.ipartek.formacion.ejemplocapas.controladores;

import java.io.IOException;
import java.util.ArrayList;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.ipartek.formacion.modelo.pojos.Gato;

/**
 * Servlet implementation class GatosServlet
 */
public class GatosServlet extends HttpServlet {
	private static final long serialVersionUID = 1L;

	/**
	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		ArrayList<Gato> gatos = new ArrayList<Gato>();
		
		gatos.add(new Gato(1L, "Persa", "Blanco", "Patxi", 4.8, "data:image/jpeg;base64,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"));
		gatos.add(new Gato(2L, "Siamés", "Blanco-Manchas", "Francis", 5.3, "https://okdiario.com/img/2017/08/19/gato-siames-1-655x368.jpg"));
		gatos.add(new Gato(3L, "Snowshoe", "Blanco-Pardo", "Luna", 5.1, "https://wakyma.com/blog/wp-content/uploads/2017/08/Caracter%C3%ADsticas-de-la-raza-de-gato-snowshoe"));
		
		HttpSession session = request.getSession();
		session.setAttribute("gatos", gatos);
		request.setAttribute("gatos", gatos);
		request.getRequestDispatcher("gatos.jsp").forward(request, response);
	}

	/**
	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
		doGet(request, response);
	}

}
